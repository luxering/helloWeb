<%--
  Created by IntelliJ IDEA.
  User: luxer
  Date: 10/17/2017
  Time: 22:35
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" %>
<p>
    <span class="infoText">3</span><span>秒后返回主页...</span>
</p>
<div class="stopgo">clickme</div>
<script>
    {
        let infoTextDom = document.querySelector(".infoText");
        let countdown = 3;
        let countdownTimer = setInterval(function () {
            countdown --;
            infoTextDom.innerHTML = countdown;
            if(countdown<=0){
                clearInterval(countdownTimer);
                countdownTimer = null;
                window.location.href = "${pageContext.request.contextPath}";
            }
        },1000);
        document.querySelector(".stopgo").onclick = function () {
            clearInterval(countdownTimer);
        }
    }
</script>